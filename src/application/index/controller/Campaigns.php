<?php
 namespace app\index\controller; use app\index\Defs as IndexDefs; use think\Url; use think\Request; use think\Log; use think\Debug; use think\Db; use app\index\logic\Campaigns as CampaignsLogic; use app\index\logic\Templates as TemplatesLogic; use app\index\logic\Lists as ListsLogic; use app\index\logic\Mailboxes as MailboxesLogic; use app\index\mail\CampaignEmail; class Campaigns extends Common { public function sendCampaignCreate() { goto GQlUH; xX6vn: return ajaxSuccess("\346\x93\x8d\344\275\x9c\346\210\220\345\x8a\237", $campaignId); goto wyT2x; rXuYK: if ($campaignId) { goto MHG7y; } goto RYCrl; c8DFp: MHG7y: goto xX6vn; RYCrl: return ajaxError("\xe6\x93\x8d\344\275\x9c\345\xa4\261\xe8\xb4\xa5"); goto rk8OR; GQlUH: $campaignsLogic = CampaignsLogic::I(); goto LVysw; wyT2x: r6Ha4: goto egue9; LVysw: $campaignId = $campaignsLogic->createCampaign(); goto rXuYK; rk8OR: goto r6Ha4; goto c8DFp; egue9: } public function sendCampaignEdit($campaignId) { goto NHqJR; aF3Jj: Er0j6: goto ALII2; ntN6R: return $this->fetch("\x73\x65\x6e\x64\137\x63\x61\x6d\x70\x61\151\147\156\137\141\x64\144"); goto aF3Jj; wqaeF: $urlHrefs = ["\163\x65\156\x64\103\x61\x6d\x70\x61\151\147\x6e\x41\x64\x64\103\x6f\156\164\145\x6e\x74" => url("\x73\145\156\x64\103\141\155\160\141\151\147\x6e\x41\x64\144\103\x6f\x6e\164\145\x6e\x74", ["\x63\141\155\x70\141\151\x67\x6e\111\144" => $campaignId]), "\163\145\156\144\x43\141\155\160\141\x69\x67\156\101\144\x64\x41\164\x74\x61\143\150" => url("\163\x65\156\144\103\x61\155\x70\x61\x69\x67\x6e\x41\144\x64\x41\x74\164\141\143\150", ["\x63\x61\155\x70\141\151\147\156\x49\x64" => $campaignId]), "\x73\x65\156\x64\x43\x61\x6d\x70\141\151\147\156\101\x64\144\114\x69\x73\164\x73" => url("\x73\x65\x6e\144\103\141\x6d\160\141\151\x67\156\x41\x64\x64\114\151\x73\164\163", ["\143\x61\155\160\141\151\x67\x6e\111\144" => $campaignId]), "\x73\145\156\x64\x43\141\155\x70\141\151\147\156\x41\144\144\x50\x72\x65\x76\151\145\167" => url("\x73\x65\156\144\x43\141\x6d\160\x61\x69\147\156\101\144\144\120\x72\x65\x76\151\x65\x77", ["\143\x61\155\x70\141\151\147\156\111\144" => $campaignId])]; goto P8xJb; NHqJR: if (!request()->isGet()) { goto Er0j6; } goto wqaeF; P8xJb: $this->assign("\165\162\154\110\162\x65\146\x73", $urlHrefs); goto ntN6R; ALII2: } public function sendCampaignDelete($campaignId) { goto OYLD3; SBBZH: if ($campaignsLogic->deleteCampaign($campaignId)) { goto Eg64Y; } goto dN1UY; OYLD3: $campaignsLogic = CampaignsLogic::I(); goto SBBZH; gcrgA: return ajaxSuccess("\346\x93\215\344\275\234\xe6\x88\220\xe5\212\237"); goto KY33W; KY33W: tf8Ht: goto gMnIQ; dN1UY: return ajaxError("\xe6\x93\215\344\275\x9c\345\244\xb1\xe8\xb4\xa5"); goto IgfnK; IgfnK: goto tf8Ht; goto SKUH3; SKUH3: Eg64Y: goto gcrgA; gMnIQ: } public function sendCampaignAddContent($campaignId) { goto MnSyU; YKdxG: $messageContent = input("\x70\157\163\164\x2e\x6d\145\x73\x73\141\147\145\x5f\x63\157\156\x74\145\156\x74\57\163"); goto OJgv6; ix0Rf: $contentInfos = $campaignsLogic->getContent($campaignId); goto RfJdr; ryrU1: $mailboxes = $mailboxesLogic->getMailboxList(); goto Cheg1; iXTqG: if ($formatInfos) { goto n85P0; } goto nxBMU; dYV0z: $this->assign("\142\x69\156\144\x56\x61\154\x75\x65\x73", $bindValues); goto nvfZc; UoMyT: Log::error("\x73\145\x6e\144\103\141\x6d\x70\x61\151\x67\156\x41\x64\x64\x43\x6f\156\x74\x65\x6e\x74\x2c\x20\151\156\x76\x61\154\x69\144\x20\143\141\155\x70\141\x69\x67\x6e\x20\151\x64\x3a\40" . $campaignId); goto Hq8Vb; OJgv6: $campaignsLogic->updateContent($campaignId, $mailboxId, $subject, $sendFormat, $templateId, $messageContent); goto wlHk8; Xgp7Z: return $this->fetch("\x63\157\x6d\x6d\157\x6e\57\x65\162\162\x6f\x72"); goto KvKXu; Hq8Vb: return $this->fetch("\x63\x6f\155\x6d\x6f\156\x2f\x65\x72\162\157\x72"); goto SMVWL; H6j7Q: if (!request()->isGet()) { goto DUC65; } goto Dtvqh; qFMby: $mailboxesLogic = new MailboxesLogic(); goto ryrU1; KvKXu: n85P0: goto cyCqv; gLkIC: $subject = input("\x70\157\x73\x74\56\163\165\x62\x6a\x65\x63\164\x2f\x73"); goto V3LL1; nxBMU: Log::error("\x73\x65\x6e\x64\x43\141\x6d\160\141\151\147\156\x41\x64\144\x43\157\156\164\145\156\164\x2c\x20\x69\x6e\x76\x61\154\x69\144\x20\143\141\x6d\160\141\151\x67\156\x20\151\144\72\x20" . $campaignId); goto Xgp7Z; XZaDg: $templateId = input("\160\x6f\163\x74\x2e\164\145\155\160\154\x61\x74\145\137\x69\144\57\144"); goto YKdxG; OZlt6: $bindValues = ["\155\x61\x69\x6c\x62\x6f\170\x65\163" => $mailboxes, "\x6d\141\x69\x6c\142\x6f\x78\x5f\151\x64" => $contentInfos["\x6d\141\x69\154\142\157\x78\137\x69\144"], "\163\x75\142\x6a\145\x63\x74" => $contentInfos["\x73\x75\142\x6a\x65\143\x74"], "\x73\x65\x6e\x64\137\x66\157\162\x6d\x61\x74" => $formatInfos["\x73\145\x6e\144\x5f\146\x6f\162\155\141\164"], "\164\x65\155\x70\154\141\x74\145\x73" => $templates, "\164\145\155\x70\154\x61\x74\145\137\151\144" => $formatInfos["\x74\145\155\160\x6c\141\x74\145\x5f\x69\x64"], "\x6d\x65\x73\x73\x61\x67\x65\x5f\143\x6f\x6e\x74\x65\156\164" => $contentInfos["\155\x65\x73\163\141\147\x65\137\x63\x6f\x6e\x74\145\x6e\x74"]]; goto dYV0z; SMVWL: jjFts: goto qFMby; MnSyU: $campaignsLogic = CampaignsLogic::I(); goto H6j7Q; cyCqv: $templatesLogic = TemplatesLogic::I(); goto r_n5W; BTDLZ: DUC65: goto gLkIC; aaFiy: $sendFormat = input("\160\157\163\164\56\163\145\156\x64\137\146\x6f\x72\155\x61\164\57\x64"); goto XZaDg; Dtvqh: $urlHrefs = ["\163\x65\x6e\144\x43\141\155\160\141\151\x67\156\101\144\144\x43\157\156\x74\145\156\x74" => url("\x73\145\156\x64\103\141\155\160\x61\151\147\156\x41\144\x64\x43\157\x6e\x74\x65\156\x74", ["\x63\141\155\x70\141\151\147\156\111\x64" => $campaignId]), "\165\160\154\x6f\x61\144\x49\155\141\147\145" => url("\125\x70\154\x6f\141\x64\57\165\160\154\x6f\x61\x64\111\155\141\147\145\x46\x72\157\155\103\113\x45\144\151\164\157\x72")]; goto qE5mU; Cheg1: $formatInfos = $campaignsLogic->getFormat($campaignId); goto iXTqG; nvfZc: return $this->fetch(); goto BTDLZ; r_n5W: $templates = $templatesLogic->getTemplateList(); goto OZlt6; RfJdr: if ($contentInfos) { goto jjFts; } goto UoMyT; wlHk8: return ajaxSuccess("\346\223\215\344\xbd\234\xe6\210\220\345\x8a\x9f"); goto Cbb7K; qE5mU: $this->assign("\x75\162\x6c\x48\x72\x65\146\x73", $urlHrefs); goto ix0Rf; V3LL1: $mailboxId = input("\160\157\163\x74\x2e\x6d\x61\151\154\142\x6f\170\x5f\x69\144\57\x64"); goto aaFiy; Cbb7K: } public function sendCampaignAddAttach($campaignId) { goto rI1Kn; WHC8D: $i++; goto cS7Vu; bGd2N: OyT2j: goto PxDLu; rI1Kn: if (!request()->isGet()) { goto ecSmr; } goto CR0Ky; lmmUc: if ($mimeType == "\x69\x6d\141\x67\145\x2f\x6a\160\x65\x67" || $mimeType == "\x69\x6d\x61\147\x65\57\160\156\x67" || $mimeType == "\151\155\x61\147\x65\57\147\x69\x66") { goto owvkv; } goto qVJbw; ZxYAA: $campaignsLogic = CampaignsLogic::I(); goto isupm; PxDLu: $bindValues = ["\141\164\x74\141\x63\x68\145\163" => $attaches]; goto N0n8y; oreck: return ajaxSuccess("\346\223\x8d\xe4\275\x9c\xe6\210\220\xe5\212\237"); goto KdSdr; RtwN6: $mimeType = $attaches[$i]["\155\151\155\145\137\x74\171\x70\x65"]; goto lmmUc; U0a6X: return $this->fetch(); goto gCMmB; ictNV: $count = count($attaches); goto ay10X; gCMmB: ecSmr: goto oreck; oIzox: $attaches[$i]["\164\150\165\155\142\156\141\151\154\x5f\x75\162\x6c"] = url("\x55\x70\154\x6f\141\x64\57\164\150\x75\155\142\156\x61\x69\x6c\x49\155\x61\147\145", ["\x63\x61\155\x70\x61\x69\147\x6e\x41\x74\x74\x61\x63\x68\x49\144" => $attaches[$i]["\x63\x61\155\160\x61\x69\x67\156\x5f\141\x74\x74\141\x63\x68\137\151\x64"]]); goto aGuOO; N0n8y: $this->assign("\142\x69\x6e\144\126\141\154\x75\x65\x73", $bindValues); goto U0a6X; aGuOO: I9zoP: goto MmdFd; S3HXJ: if (!($i < $count)) { goto OyT2j; } goto RtwN6; tyLw9: QaJP7: goto WHC8D; CR0Ky: $urlHrefs = ["\x73\x65\x6e\144\103\x61\155\160\x61\151\x67\156\x41\x64\x64\101\164\164\141\143\x68" => url("\163\145\156\144\x43\x61\155\160\x61\x69\147\x6e\101\144\144\101\x74\164\141\x63\150", ["\x63\x61\x6d\160\141\151\x67\x6e\111\x64" => $campaignId]), "\165\160\154\x6f\x61\144\103\141\155\x70\141\x69\147\x6e\x41\164\164\x61\143\150" => url("\125\160\x6c\157\141\x64\57\165\x70\154\x6f\141\144\x43\141\x6d\x70\141\x69\x67\156\101\164\164\141\x63\150", ["\143\x61\155\x70\x61\x69\147\156\111\x64" => $campaignId]), "\x64\x65\x6c\145\164\x65\x43\x61\x6d\160\141\x69\147\x6e\101\164\164\141\x63\x68" => url("\x55\160\154\x6f\x61\x64\x2f\x64\145\x6c\145\x74\145\103\141\155\160\x61\151\x67\156\x41\x74\x74\x61\x63\x68"), "\x70\x72\145\166\151\145\167\103\x61\x6d\160\141\151\x67\x6e\x41\164\164\x61\143\x68" => url("\x55\160\x6c\x6f\x61\x64\57\x70\x72\145\x76\x69\145\x77\103\141\155\x70\x61\151\x67\x6e\101\x74\164\141\143\150", ["\143\x61\155\160\141\x69\x67\x6e\x49\144" => $campaignId])]; goto UHKFY; qVJbw: $attaches[$i]["\164\150\x75\x6d\x62\156\141\151\154\x5f\x75\162\154"] = SITE_URL . "\57\x73\164\141\164\151\143\x2f\151\x6d\147\x2f\146\x69\x6c\x65\x2e\x70\156\147"; goto Jhwtq; UHKFY: $this->assign("\x75\162\154\x48\162\x65\146\x73", $urlHrefs); goto ZxYAA; kQHb2: owvkv: goto oIzox; Jhwtq: goto I9zoP; goto kQHb2; ay10X: L0yBX: goto S3HXJ; cS7Vu: goto L0yBX; goto bGd2N; oSK15: $i = 0; goto ictNV; MmdFd: $attaches[$i]["\x64\157\167\156\154\157\x61\x64\137\165\x72\154"] = url("\125\x70\x6c\157\141\144\x2f\144\x6f\x77\156\x6c\157\x61\144\103\141\x6d\160\x61\x69\147\x6e\101\164\x74\x61\143\x68", ["\143\x61\155\160\141\x69\147\x6e\101\164\164\141\x63\150\x49\x64" => $attaches[$i]["\143\x61\155\x70\x61\x69\147\156\137\141\164\x74\141\x63\150\x5f\151\x64"]]); goto tyLw9; isupm: $attaches = $campaignsLogic->getAttaches($campaignId); goto oSK15; KdSdr: } public function sendCampaignAddLists($campaignId) { goto My26V; niz0v: $this->assign("\142\151\x6e\144\126\141\x6c\165\x65\163", $bindValues); goto iDHNC; iDHNC: return $this->fetch(); goto q0wqP; Zq1hr: $schedulingInfos = $campaignsLogic->getScheduling($campaignId); goto toSo6; ocTjS: sH8_P: goto g_a8Q; My26V: if (!request()->isGet()) { goto lIz0f; } goto arsDz; bEKXB: return $this->fetch("\x63\157\155\x6d\157\x6e\x2f\145\x72\162\x6f\162"); goto ocTjS; AET7o: $campaignsLogic = CampaignsLogic::I(); goto Zq1hr; toSo6: if ($schedulingInfos) { goto sH8_P; } goto bEKXB; rFbHC: $stopAfter = input("\x67\145\x74\x2e\x73\164\157\160\x5f\x61\146\164\145\x72"); goto JU2s9; q0wqP: lIz0f: goto X_eu5; Bbuix: $this->assign("\x75\x72\x6c\110\x72\145\146\x73", $urlHrefs); goto AET7o; JU2s9: $requeueInterval = input("\x67\x65\164\56\162\145\161\x75\x65\x75\145\x5f\151\x6e\164\145\x72\166\141\x6c"); goto gTRwj; I2pUX: return ajaxSuccess("\346\x93\x8d\xe4\xbd\x9c\xe6\x88\220\345\212\237"); goto PjRgo; EHzZN: $embargo = input("\x67\x65\x74\56\x65\155\x62\x61\162\x67\x6f"); goto rFbHC; gTRwj: $campaignsLogic = CampaignsLogic::I(); goto YGlI2; arsDz: $urlHrefs = ["\163\145\x6e\144\103\x61\155\160\x61\151\x67\156\x41\144\x64\114\x69\x73\164\x73" => url("\x73\145\x6e\x64\x43\141\155\160\x61\x69\x67\x6e\x41\x64\x64\x4c\x69\x73\164\x73", ["\x63\x61\155\160\x61\x69\x67\x6e\111\x64" => $campaignId]), "\x63\150\x6f\x6f\x73\145\114\151\163\x74\163" => url("\151\156\x64\x65\x78\x2f\114\151\163\x74\x73\x2f\x63\150\157\x6f\163\145\x4c\x69\x73\x74\163", ["\x63\x61\x6d\160\141\x69\147\156\x49\x64" => $campaignId]), "\x63\x61\155\160\141\151\x67\156\x53\145\154\145\x63\x74\x65\144\114\x69\163\164\163\x44\x61\x74\141\x67\162\x69\144" => url("\x69\156\144\x65\x78\x2f\114\x69\163\x74\x73\57\143\x61\x6d\160\x61\151\x67\156\123\145\x6c\145\143\164\x65\x64\114\151\163\x74\163\104\141\x74\x61\147\x72\151\144", ["\x63\141\x6d\160\141\x69\x67\156\x49\144" => $campaignId])]; goto Bbuix; X_eu5: $listsStr = trim(input("\147\145\x74\56\154\x69\x73\164\163\57\163")); goto ZubkO; YGlI2: $campaignsLogic->updateLists($campaignId, $lists); goto QGWu0; QGWu0: $campaignsLogic->updateScheduling($campaignId, $embargo, $stopAfter, $requeueInterval); goto I2pUX; g_a8Q: $bindValues = ["\145\155\142\x61\x72\147\157" => $schedulingInfos["\145\155\142\141\162\147\x6f"], "\x73\164\x6f\160\137\141\x66\164\x65\162" => $schedulingInfos["\163\x74\157\x70\137\141\x66\164\x65\x72"], "\162\145\161\x75\x65\x75\145\x5f\151\x6e\x74\x65\162\166\x61\154" => $schedulingInfos["\x72\145\161\x75\x65\165\x65\137\151\x6e\164\x65\162\166\141\154"]]; goto niz0v; ZubkO: $lists = explode("\x2c", $listsStr); goto EHzZN; PjRgo: } public function sendCampaignAddPreview($campaignId) { goto Iw0y5; zE4rK: $this->assign("\142\x69\x6e\144\126\x61\x6c\165\x65\163", $bindValues); goto xLGLL; s24Bd: $campaignsLogic = CampaignsLogic::I(); goto Q8OqC; fjZSC: leGNz: goto mVRiy; xLGLL: return $this->fetch(); goto fjZSC; Iw0y5: if (!request()->isGet()) { goto leGNz; } goto AJcwg; Q8OqC: $bindValues = []; goto zE4rK; AJcwg: $urlHrefs = ["\x61\x64\x64\x43\141\x6d\x70\x61\151\x67\156\120\162\157\143\x65\x73\x73\x51\165\145\x75\145" => url("\141\x64\144\x43\x61\155\160\141\151\147\156\120\162\x6f\143\x65\x73\163\121\165\x65\x75\x65", ["\x63\141\155\160\141\x69\x67\156\x49\x64" => $campaignId]), "\160\162\x65\166\x69\145\167\x43\141\x6d\x70\141\151\147\x6e" => url("\160\162\145\166\151\145\x77\103\141\x6d\x70\141\x69\147\x6e", ["\x63\141\x6d\x70\141\151\147\156\111\x64" => $campaignId]), "\163\145\x6e\144\x43\141\x6d\160\141\151\x67\x6e\x54\145\163\164" => url("\x73\x65\x6e\x64\x43\141\x6d\160\141\x69\x67\156\124\145\163\x74", ["\x63\141\155\x70\x61\x69\147\156\111\144" => $campaignId])]; goto HOseq; HOseq: $this->assign("\165\x72\x6c\x48\162\145\146\163", $urlHrefs); goto s24Bd; mVRiy: } public function sendCampaignTest($campaignId) { goto mlhgd; VuwWS: foreach ($emails as $email) { goto L2zcQ; r_aqi: ikvdl: goto dwCV3; cmsKE: $result = $campaignEmailLogic->sendCampaignMail($campaignId, $email, true); goto J7MiE; vNTcn: Log::error("\x73\x65\156\x64\x43\x61\x6d\160\141\x69\x67\x6e\124\145\x73\x74\x2c\x20\x66\141\x69\x6c\145\x64\x20\164\157\40\x73\145\x6e\144\x20\145\x6d\141\x69\154\x3a\x20" . $email); goto KyQY5; L2zcQ: if (validateEmail($email)) { goto cq4B1; } goto qCs8X; qCs8X: goto V0bHg; goto vXLTT; dwCV3: V0bHg: goto Jwwsa; J7MiE: if ($result) { goto ikvdl; } goto vNTcn; KyQY5: goto c9WiJ; goto r_aqi; vXLTT: cq4B1: goto cmsKE; Jwwsa: } goto o_dzI; Aic1R: return ajaxError("\xe6\x93\x8d\344\xbd\x9c\345\xa4\xb1\xe8\264\245"); goto Oy8LE; kh6y1: XhAZa: goto Zx915; Zu8Mx: $campaignEmailLogic = new CampaignEmail(); goto WWVdV; Zx915: return ajaxSuccess("\xe6\223\215\344\xbd\234\346\210\x90\xe5\212\x9f"); goto fIMoV; mlhgd: $testEmails = input("\160\157\163\x74\x2e\164\145\x73\164\137\x65\x6d\x61\151\154\163", ''); goto apsMF; fIMoV: peLqd: goto i2H6o; ZgWJK: xpWRh: goto zRQxW; zRQxW: $campaignsLogic = CampaignsLogic::I(); goto eq9Vk; apsMF: if (!empty($testEmails)) { goto xpWRh; } goto ZKiyS; eq9Vk: try { $campaignsLogic->verifyCampaignData($campaignId); } catch (\Exception $e) { return ajaxError("\346\x93\x8d\344\xbd\x9c\xe5\244\xb1\350\xb4\xa5\x20\x2d\40" . $e->getMessage()); } goto Res3x; gyVEu: if ($result) { goto XhAZa; } goto Aic1R; WWVdV: $result = true; goto VuwWS; Oy8LE: goto peLqd; goto kh6y1; ZKiyS: return ajaxError("\xe6\223\x8d\344\275\x9c\xe5\244\xb1\xe8\264\xa5\40\x2d\x20\xe8\257\267\350\xbe\x93\345\x85\xa5\350\xae\242\xe9\x98\x85\350\200\x85\351\202\xae\347\256\xb1"); goto ZgWJK; Res3x: $emails = explode("\x2c", $testEmails); goto Zu8Mx; o_dzI: c9WiJ: goto gyVEu; i2H6o: } public function previewCampaign($campaignId) { goto FtY9w; pFNXM: if (!isset(CampaignsLogic::$campaignCaches[$campaignId])) { goto OM6OF; } goto ZXXUP; YiCpk: $mailboxId = $campaignCacheData["\x6d\141\151\154\x62\x6f\170\x5f\x69\x64"]; goto hoo2N; H7nmZ: Log::error("\x63\x61\156\x27\x74\x20\146\x69\156\x64\x20\164\x68\x65\40\155\141\x69\x6c\142\x6f\170\40\x63\x6f\156\146\151\147\x2c\x20\x69\144\72\40" . $mailboxId); goto pfuYY; Uw9dm: if ($campaignsLogic->preCacheCampaign($campaignId)) { goto oPBfh; } goto Uk0I9; w8XlN: oPBfh: goto M_d3N; TNWg9: $mailboxConfig = $mailboxesLogic->getMailboxInfos($mailboxId); goto VFGrP; hoo2N: $mailboxesLogic = new MailboxesLogic(); goto TNWg9; FtY9w: $campaignsLogic = CampaignsLogic::I(); goto pFNXM; sZwwe: VB25w: goto MHL8m; ezOmG: Log::notice("\x6d\145\163\x73\x61\x67\x65\x3a\x20" . $messageInfos["\x68\164\155\x6c\115\x65\163\163\x61\147\145"]); goto hVfW3; ZXXUP: Log::notice("\125\x73\151\x6e\x67\40\164\x68\x65\x20\x63\141\143\x68\x65\x64\40\x63\x61\x6d\160\x61\151\147\x6e\54\40\143\141\x6d\160\x61\x69\x67\156\40\x69\144\72\40{$campaignId}"); goto v8k0b; Uk0I9: logEvent("\105\162\x72\157\x72\x20\154\157\141\x64\x69\156\147\40\x63\x61\x6d\160\x61\x69\147\156\40" . $campaignId . "\40\x20\151\x6e\40\x63\x61\x63\x68\145"); goto zTGWJ; eN30E: $campaignCacheData = CampaignsLogic::$campaignCaches[$campaignId]; goto YiCpk; hVfW3: return $messageInfos["\x68\164\x6d\x6c\x4d\145\x73\163\x61\147\x65"]; goto g1GZ6; M_d3N: OsgCx: goto eN30E; MHL8m: $campaignEmailLogic = new CampaignEmail(); goto h6_SF; zTGWJ: return ''; goto w8XlN; VFGrP: if ($mailboxConfig) { goto VB25w; } goto H7nmZ; h6_SF: $messageInfos = $campaignEmailLogic->generateCampaignMessage($mailboxConfig, $campaignId, '', true); goto ezOmG; Rp15t: OM6OF: goto Uw9dm; v8k0b: goto OsgCx; goto Rp15t; pfuYY: return ''; goto sZwwe; g1GZ6: } public function addCampaignProcessQueue($campaignId) { goto gnFDy; cJ4mo: try { $campaignsLogic->verifyCampaignData($campaignId); } catch (\Exception $e) { return ajaxError("\346\223\215\xe4\xbd\234\xe5\244\xb1\350\264\xa5\40\x2d\x20" . $e->getMessage()); } goto UI74m; pm92Q: return ajaxSuccess("\346\223\x8d\344\275\x9c\xe6\x88\x90\345\212\237"); goto EVYxN; tdHjq: return ajaxError("\xe6\x93\x8d\344\xbd\x9c\xe5\244\261\xe8\264\245"); goto ZXOmQ; UI74m: $result = $campaignsLogic->addCampaignProcessQueue($campaignId); goto Seh1A; ZXOmQ: goto iHgN7; goto N6elW; gnFDy: $campaignsLogic = CampaignsLogic::I(); goto cJ4mo; N6elW: IgHPM: goto pm92Q; Seh1A: if ($result) { goto IgHPM; } goto tdHjq; EVYxN: iHgN7: goto WjJGW; WjJGW: } }
