<?php
 namespace app\index\controller; use think\Controller; use think\Log; use think\Debug; use think\Request; use think\Db; use app\index\logic\Admins as AdminsLogic; class Admins extends Common { public function admins($search = array(), $page = 1, $rows = DEFAULT_PAGE_ROWS, $sort = '', $order = '') { goto Ymqzr; RuGzR: $urlHrefs = ["\x61\x64\x6d\151\x6e\163" => url("\151\156\144\x65\x78\57\101\144\x6d\x69\x6e\163\57\141\144\155\x69\x6e\163"), "\x61\144\x6d\151\156\163\x41\144\x64" => url("\151\156\x64\x65\170\57\x41\x64\155\151\x6e\163\x2f\x61\144\155\151\156\163\101\144\144"), "\x61\144\x6d\151\x6e\x73\105\x64\151\x74" => url("\x69\x6e\x64\x65\170\x2f\x41\x64\x6d\x69\x6e\x73\57\x61\x64\x6d\x69\x6e\x73\x45\144\151\164"), "\141\144\x6d\151\x6e\163\x44\x65\154\x65\x74\145" => url("\x69\156\144\145\x78\57\x41\x64\x6d\x69\x6e\163\57\141\144\x6d\x69\156\163\104\145\154\x65\x74\x65"), "\x61\144\x6d\x69\156\163\103\150\141\156\x67\x65\x50\167\144" => url("\151\156\x64\x65\170\x2f\x41\144\x6d\x69\156\163\x2f\x61\x64\155\x69\x6e\163\x43\150\141\156\147\145\120\x77\144")]; goto yMG7Y; G7QAM: zoErI: goto I3I7M; OHsuz: return json($adminsLogic->load($search, $page, $rows, $sort, $order)); goto kQqfs; iLXlX: return $this->fetch(); goto G7QAM; Ymqzr: if (!request()->isGet()) { goto zoErI; } goto RuGzR; yMG7Y: $this->assign("\165\x72\154\110\x72\145\x66\163", $urlHrefs); goto iLXlX; I3I7M: $adminsLogic = AdminsLogic::newObj(); goto OHsuz; kQqfs: } public function adminsAdd() { goto rbKWe; JRj56: $urlHrefs = ["\x63\x68\145\x63\153\x41\x64\155\151\156\x45\x6d\141\x69\x6c" => url("\x69\156\144\145\170\x2f\x41\x64\x6d\x69\156\x73\57\143\x68\x65\143\x6b\x41\x64\155\x69\156\105\155\141\x69\x6c", ["\157\x6c\144\x56\141\x6c\165\x65" => ''])]; goto JWZnR; vTH6s: $bindValues = ["\141\144\155\151\x6e\122\x6f\154\145\120\141\151\x72\163" => $adminsLogic->getAdminRolePairs()]; goto KggwO; Km0Jz: try { $adminsLogic->addAdmin($infos); return ajaxSuccess("\xe6\223\x8d\344\275\234\xe6\x88\x90\345\212\237"); } catch (\Exception $e) { return ajaxError($e->getMessage()); } goto hcQWf; S3hxv: $infos = input("\x70\x6f\163\x74\x2e\151\x6e\146\x6f\163\57\x61"); goto Km0Jz; yzvep: x8nsL: goto S3hxv; cXbQd: return $this->fetch(); goto yzvep; rbKWe: $adminsLogic = AdminsLogic::newObj(); goto yIeSz; KggwO: $this->assign("\x62\x69\156\144\126\x61\154\x75\x65\163", $bindValues); goto cXbQd; yIeSz: if (!request()->isGet()) { goto x8nsL; } goto JRj56; JWZnR: $this->assign("\165\162\x6c\110\162\145\146\163", $urlHrefs); goto vTH6s; hcQWf: } public function adminsEdit($adminId) { goto dOlGx; Ayxyn: $urlHrefs = ["\x63\x68\x65\x63\x6b\101\x64\x6d\151\156\x45\155\x61\151\x6c" => url("\151\156\144\145\x78\57\x41\x64\155\151\156\163\57\143\150\x65\143\153\101\144\x6d\151\156\x45\x6d\x61\x69\154", ["\157\154\x64\126\141\x6c\x75\145" => $infos["\145\155\x61\151\154"]])]; goto pgTJR; sflTA: $this->assign("\x62\x69\156\x64\x56\x61\154\x75\x65\x73", $bindValues); goto Ayxyn; UYiP3: if ($infos) { goto PxB6N; } goto vv5Jn; vv5Jn: return $this->fetch("\143\x6f\x6d\x6d\x6f\x6e\57\145\x72\162\157\162"); goto U3dyZ; vERaG: if (!request()->isGet()) { goto nf0ms; } goto zl9k0; YstOB: $bindValues = ["\141\x64\155\x69\156\122\x6f\x6c\145\x50\x61\151\x72\x73" => $adminsLogic->getAdminRolePairs(), "\151\x6e\x66\x6f\x73" => $infos]; goto sflTA; I80Rb: return $this->fetch(); goto Cu143; zl9k0: $infos = $adminsLogic->getAdminInfos($adminId); goto UYiP3; Cu143: nf0ms: goto XJZBt; XJZBt: $infos = input("\x70\x6f\163\164\56\151\x6e\146\x6f\x73\57\x61"); goto FSCxi; U3dyZ: PxB6N: goto YstOB; dOlGx: $adminsLogic = AdminsLogic::newObj(); goto vERaG; FSCxi: try { $adminsLogic->editAdmin($adminId, $infos); return ajaxSuccess("\xe6\x93\x8d\344\xbd\x9c\xe6\x88\x90\xe5\x8a\x9f"); } catch (\Exception $e) { return ajaxError($e->getMessage()); } goto R00DN; pgTJR: $this->assign("\x75\162\x6c\x48\162\x65\x66\x73", $urlHrefs); goto I80Rb; R00DN: } public function adminsDelete($adminId) { $adminsLogic = AdminsLogic::newObj(); try { $adminsLogic->deleteAdmin($adminId); return ajaxSuccess("\xe6\223\x8d\xe4\275\234\346\x88\x90\xe5\x8a\x9f"); } catch (\Exception $e) { return ajaxError($e->getMessage()); } } public function adminsChangePwd($adminId) { goto x57_D; Ap0RK: return $this->fetch(); goto y_bG7; j2ev1: if (!request()->isGet()) { goto oH6M1; } goto lR_Cx; DLL3g: return $this->fetch("\143\157\155\155\157\156\57\x65\162\x72\157\x72"); goto ygOUg; lR_Cx: $infos = $adminsLogic->getAdminInfos($adminId); goto sGGPQ; ygOUg: PkqOL: goto PMoM3; c6RUI: $infos = input("\160\x6f\163\164\x2e\x69\x6e\x66\157\163\57\141"); goto jUYTC; x57_D: $adminsLogic = AdminsLogic::newObj(); goto j2ev1; sGGPQ: if ($infos) { goto PkqOL; } goto DLL3g; y_bG7: oH6M1: goto c6RUI; PMoM3: $bindValues = ["\151\x6e\146\x6f\163" => $infos]; goto djYWX; jUYTC: try { $adminsLogic->changeAdminPwd($adminId, $infos); return ajaxSuccess("\xe6\x93\215\xe4\275\x9c\346\x88\220\345\x8a\x9f"); } catch (\Exception $e) { return ajaxError($e->getMessage()); } goto CQ1_K; djYWX: $this->assign("\142\x69\x6e\144\126\x61\154\165\x65\x73", $bindValues); goto Ap0RK; CQ1_K: } public function checkAdminEmail($oldValue, $email) { goto fIqde; D3Jxg: iynZo: goto FLDA0; F9h7Q: goto fuq6y; goto D3Jxg; fJmAp: fuq6y: goto X5Bn1; fIqde: if (!($oldValue == $email)) { goto O0mjg; } goto UjyOc; amXns: O0mjg: goto nCCma; nCCma: $exists = false; goto sm39g; cvZl7: return "\164\162\165\x65"; goto F9h7Q; FLDA0: return "\146\141\x6c\x73\145"; goto fJmAp; UjyOc: return "\x74\162\x75\145"; goto amXns; sm39g: if ($exists) { goto iynZo; } goto cvZl7; X5Bn1: } public function getUsersById($ids) { goto llNwU; mykRc: if (!empty($rows)) { goto hY1Z6; } goto CA7C0; eM5u7: hY1Z6: goto Kl4hk; qhI80: $rows = Db::table("\x61\144\x6d\x69\x6e\x73")->field("\141\144\x6d\151\x6e\x5f\151\144\x2c\145\x6d\x61\x69\154\54\162\145\x61\154\156\141\155\145")->where($where)->order("\x61\144\155\151\156\x5f\x69\144\x20\141\x73\x63")->select(); goto mykRc; llNwU: if (is_array($ids)) { goto yf4aY; } goto Bx2Rw; DFHap: $where["\x61\144\x6d\x69\x6e\137\x69\x64"] = isset($ids[1]) ? ["\151\156", $ids] : $ids[0]; goto qhI80; T2s6s: yf4aY: goto DFHap; CA7C0: $rows = []; goto eM5u7; Kl4hk: return json($rows); goto TgtnX; Bx2Rw: $ids = explode("\x2c", $ids); goto T2s6s; TgtnX: } }
