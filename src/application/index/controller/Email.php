<?php
 namespace app\index\controller; use PHPMailer\PHPMailer\PHPMailer; use PHPMailer\PHPMailer\Exception; class Email extends Common { public function send($tpl, $recipients, $data = array()) { goto sITui; LjI0b: $mail = new PHPMailer(); goto OzH9f; UkIGz: try { goto k7zUn; QMJDB: $mail->Host = $conf["\x73\x6d\x74\160"]; goto fFyYI; Qvlot: $mail->SMTPSecure = "\x73\x73\x6c"; goto B3tiq; ZOM7j: $mail->SMTPDebug = 0; goto vkeV3; Dmkmw: $mail->send(); goto mvL4b; E6CZl: $mail->isHTML(true); goto NujGi; KHISp: foreach ($recipients as $to_address) { $mail->addAddress($to_address); tHR9o: } goto lYJbI; fFyYI: $mail->SMTPAuth = true; goto P170u; lYJbI: ZXVMs: goto E6CZl; RJOun: $mail->Body = $parse["\142\x6f\144\171"]; goto Dmkmw; P170u: $mail->Username = $conf["\165\163\x65\x72\156\141\x6d\x65"]; goto MCfOy; k7zUn: $mail->CharSet = "\125\124\106\55\x38"; goto ZOM7j; NujGi: $mail->Subject = $parse["\x73\165\142\152\x65\143\164"]; goto RJOun; mvL4b: return true; goto Jgl4r; vkeV3: $mail->isSMTP(); goto QMJDB; MCfOy: $mail->Password = $conf["\160\141\x73\163\167\x6f\162\x64"]; goto Qvlot; s64nL: $mail->setFrom($conf["\146\162\157\x6d\137\x61\x64\x64\x72\145\x73\163"], $conf["\146\x72\157\155\x5f\156\141\x6d\145"]); goto KHISp; B3tiq: $mail->Port = 465; goto s64nL; Jgl4r: } catch (Exception $e) { return $mail->ErrorInfo; } goto ie3Km; X95ze: ZXcox: goto UkIGz; jMf6T: $recipients = explode("\54", $recipients); goto X95ze; JS1iz: if (is_array($recipients)) { goto ZXcox; } goto jMf6T; sITui: $conf = config("\155\141\x69\x6c\145\x72"); goto LjI0b; OzH9f: $parse = $this->parse($tpl, $data); goto JS1iz; ie3Km: } public function parse($tpl, $data = array()) { goto Sn73k; bEkE7: $json = $this->fetch("\x65\x6d\x61\151\154\x2f\x74\x70\x6c\137" . $tpl); goto CHxnf; Sn73k: $this->assign("\x62\151\156\x64", $data); goto bEkE7; CHxnf: return json_decode($json, true); goto RgbV8; RgbV8: } }
