<?php
 namespace app\index\controller; use think\Controller; use think\Log; use think\Debug; use think\Request; use think\Db; use app\index\Defs as IndexDefs; class OpenApi extends Controller { protected function _initialize() { } public function pushSubscribers($emails = array()) { goto ZOtjX; ZOtjX: foreach ($emails as $email) { goto meSTC; qdZ_5: if (!$subscriber) { goto I_wXl; } goto OSg5K; TGt5u: $insertDatas = array("\165\156\151\161\x69\x64" => generateUniqid(), "\x75\165\x69\x64" => \hash\Uuid::generate(4), "\x65\x6d\x61\151\x6c" => $email, "\x6e\141\x6d\145" => abstractNameFromEmail($email), "\142\x6c\x61\143\x6b\154\x69\x73\x74\145\x64" => 0, "\150\164\x6d\154\x5f\x65\155\x61\x69\x6c" => IndexDefs::eSubscriberHtmlEmail, "\144\x65\154\145\164\x65\x64" => 0, "\x62\x6f\165\x6e\x63\145\x5f\143\x6f\x75\x6e\x74" => 0); goto ROxcF; LlMQc: $subscriberId = Db::table("\163\165\x62\163\x63\x72\x69\x62\x65\x72\163")->getLastInsID(); goto C_Dhv; ROxcF: Db::table("\163\x75\142\163\x63\x72\x69\x62\x65\162\x73")->insert($insertDatas); goto LlMQc; VH5ZI: I_wXl: goto TGt5u; meSTC: $subscriber = Db::table("\163\x75\142\x73\x63\x72\151\142\145\x72\x73")->where(["\145\155\x61\151\x6c" => $email])->field("\163\165\x62\163\143\162\x69\x62\x65\162\x5f\151\144")->find(); goto qdZ_5; C_Dhv: tjIHM: goto XC0QP; OSg5K: goto tjIHM; goto VH5ZI; XC0QP: } goto bxzdE; NgI6I: return ajaxSuccess("\346\x93\x8d\xe4\xbd\x9c\xe6\x88\x90\xe5\x8a\x9f"); goto nUQB2; bxzdE: Di3Jz: goto NgI6I; nUQB2: } }
