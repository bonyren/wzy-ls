<?php
 namespace app\index\controller; use app\index\Defs as IndexDefs; use think\Controller; use think\Request; use think\Url; use think\Log; use think\Debug; use app\index\logic\Bounces as BouncesLogic; use PhpMimeMailParser; class Bounces extends Common { public function bounces() { goto GLroH; MMrUg: return $this->fetch(); goto rUSgd; EJ5z8: $urlHrefs = ["\x62\x6f\165\156\143\145\x50\162\x6f\x63\145\x73\x73\x65\144\114\x69\x73\x74\163" => url("\x62\157\x75\x6e\143\x65\120\x72\157\143\x65\x73\x73\x65\x64\114\151\163\x74\x73"), "\x62\x6f\165\x6e\143\145\125\x6e\151\x64\145\x6e\x74\x69\146\x69\145\x64\x4c\151\x73\x74\x73" => url("\142\x6f\x75\156\x63\x65\125\156\151\x64\145\x6e\164\151\146\151\x65\x64\114\151\x73\x74\163"), "\x62\157\x75\156\143\145\104\145\164\141\151\x6c" => url("\x62\157\x75\156\143\145\x44\145\164\x61\151\x6c"), "\x6d\x61\151\154\x62\157\170\163\103\157\x6d\x62\157\x62\x6f\170\x44\141\x74\141\x73" => url("\151\156\144\x65\x78\x2f\x4d\141\151\154\142\157\170\x65\163\57\x6d\x61\151\154\x62\157\170\145\x73\x43\157\x6d\x62\x6f\x62\157\x78\104\141\164\x61\x73"), "\142\157\x75\x6e\143\145\x73\101\x63\164\151\157\x6e" => url("\x62\x6f\x75\156\143\x65\101\143\164\151\157\x6e")]; goto peWaG; peWaG: $this->assign("\165\162\x6c\110\162\x65\x66\163", $urlHrefs); goto MMrUg; rUSgd: N7Qyq: goto m4ARV; GLroH: if (!request()->isGet()) { goto N7Qyq; } goto EJ5z8; m4ARV: } public function bounceProcessedLists($search = array(), $page = 1, $rows = DEFAULT_PAGE_ROWS, $sort = '', $order = '') { $bouncesLogic = BouncesLogic::newObj(); return json($bouncesLogic->loadProcessedBounces($search, $page, $rows, $sort, $order)); } public function bounceUnidentifiedLists($search = array(), $page = 1, $rows = DEFAULT_PAGE_ROWS, $sort = '', $order = '') { $bouncesLogic = BouncesLogic::newObj(); return json($bouncesLogic->loadUnidentifiedBounces($search, $page, $rows, $sort, $order)); } public function bounceDetail($bounceId) { goto VoUl6; ZVxCB: qnKeO: goto qMKmE; pSJpE: return $this->fetch("\x63\x6f\x6d\x6d\x6f\x6e\57\x65\162\162\x6f\162"); goto ZVxCB; tzJVT: return $this->fetch(); goto BsllY; VoUl6: $bouncesLogic = BouncesLogic::newObj(); goto ZKMQ3; F2DA_: if ($bounce) { goto qnKeO; } goto pSJpE; qMKmE: $this->assign("\142\157\165\x6e\143\x65", $bounce); goto xEaht; xEaht: $this->assign(["\165\162\x6c\110\162\x65\x66\x73" => ["\x62\x6f\x75\156\x63\145\120\162\x65\x76\x69\145\x77\x42\157\144\171" => url("\142\157\165\156\x63\x65\x50\162\145\166\151\x65\167\x42\157\144\171", ["\x62\x6f\x75\x6e\x63\145\111\x64" => $bounceId])]]); goto tzJVT; ZKMQ3: $bounce = $bouncesLogic->getBounce($bounceId); goto F2DA_; BsllY: } public function bouncePreviewBody($bounceId) { goto dg5Ea; lXncG: $parser = new PhpMimeMailParser\Parser(); goto bv9ns; xxkgA: $text = $parser->getMessageBody("\164\145\x78\164"); goto o4U6z; P8FBR: if ($bounce) { goto chnh9; } goto VXIc5; o4U6z: $html = $parser->getMessageBody("\150\164\x6d\154"); goto KDCtk; QBhfG: return $htmlEmbedded; goto kuAlf; VXIc5: return $this->fetch("\143\x6f\155\155\x6f\x6e\57\x65\x72\162\x6f\x72"); goto Ogd20; KDCtk: $htmlEmbedded = $parser->getMessageBody("\150\164\155\154\x45\x6d\x62\x65\x64\144\x65\144"); goto QBhfG; dg5Ea: $bouncesLogic = BouncesLogic::newObj(); goto qsjUL; bv9ns: $parser->setText($bounce["\150\145\141\144\145\162"] . "\xd\xa\15\xa" . $bounce["\x64\141\x74\x61"]); goto xxkgA; qsjUL: $bounce = $bouncesLogic->getBounce($bounceId); goto P8FBR; Ogd20: chnh9: goto lXncG; kuAlf: } public function bounceAction() { goto nf7Xm; POm8B: return ajaxError("\xe6\x93\x8d\344\xbd\234\345\xa4\xb1\350\xb4\245"); goto nE0xY; t4cu2: $search = input("\160\157\x73\164\x2e\x73\145\x61\162\143\150\57\x61"); goto shfjv; JknjS: Ru34B: goto br91X; muhrR: $bounceProcessedStatus = input("\160\x6f\163\164\x2e\142\157\x75\156\143\x65\x50\162\157\143\x65\163\163\145\x64\123\x74\141\164\165\x73\57\144"); goto t4cu2; J6mD6: VCtPG: goto WgRKY; AcKqg: $result = $bouncesLogic->processBounceAction($bounceIds, $bouncesAction); goto cBvwb; nf7Xm: $bouncesTarget = input("\x70\x6f\163\164\x2e\142\157\x75\156\x63\145\x73\124\x61\162\x67\145\164\x2f\144"); goto BASQZ; WgRKY: $bounceIdsStr = input("\x70\x6f\163\x74\56\142\157\165\x6e\143\x65\x49\x64\163\x2f\163"); goto TYtwj; d0vz7: Sg98e: goto UyDJh; br91X: sOctp: goto m20Sz; nE0xY: goto eeJQe; goto Qu_xS; IGxQR: $bouncesLogic = BouncesLogic::newObj(); goto uOw05; UyDJh: goto sOctp; goto J6mD6; Qu_xS: cuseS: goto UZXbK; shfjv: $bounceIds = $bouncesLogic->loadBounceIds($bounceProcessedStatus, $search); goto d0vz7; uOw05: $bounceIds = []; goto qfT8o; eyMLN: eeJQe: goto wCUjP; v1G0i: $bounceIds = explode("\54", $bounceIdsStr); goto JknjS; CjsS6: xKa8M: goto AcKqg; DIafI: if (!($bouncesTarget == IndexDefs::eBounceActionTargetAll)) { goto Sg98e; } goto muhrR; cBvwb: if ($result) { goto cuseS; } goto POm8B; UZXbK: return ajaxSuccess("\346\223\x8d\xe4\275\x9c\346\x88\x90\345\x8a\x9f"); goto eyMLN; qfT8o: if ($bouncesTarget == IndexDefs::eBounceActionTargetTags) { goto VCtPG; } goto DIafI; jjVQz: return ajaxSuccess("\xe6\x93\x8d\344\xbd\x9c\xe6\210\x90\345\212\237"); goto CjsS6; TYtwj: if (empty($bounceIdsStr)) { goto Ru34B; } goto v1G0i; m20Sz: if (!empty($bounceIds)) { goto xKa8M; } goto jjVQz; BASQZ: $bouncesAction = input("\160\157\x73\x74\56\x62\157\165\x6e\x63\145\x73\101\x63\164\151\x6f\x6e\57\x64"); goto IGxQR; wCUjP: } }
