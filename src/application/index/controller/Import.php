<?php
 namespace app\index\controller; class Import extends Common { public function import() { goto rSB_R; kFR6w: $fileInfo = $file->move(IMPORT_DIR); goto F4ehR; R3j6h: uploadError("\146\141\151\154\x65\144\x20\x74\x6f\x20\147\x65\164\40\x74\x68\145\40\165\x70\154\x6f\141\144\40\x66\151\154\x65"); goto GU_ba; qdH27: uploadError("\x66\x61\x69\154\40\55\40" . $fileInfo->getError()); goto AfFM9; u3JUj: $originalName = $uploadInfo["\156\141\x6d\145"]; goto kFR6w; T1VGK: uploadSuccess("\x73\x75\x63\143\x65\x73\x73", ["\x6f\162\151\147\x69\x6e\141\154\137\x6e\141\x6d\x65" => $originalName, "\163\141\x76\145\x5f\156\141\x6d\145" => $saveName, "\x75\x72\x6c" => $url, "\x72\x65\x6c\x61\164\151\x76\145\x5f\x75\x72\x6c" => $relativeUrl]); goto QVPnk; nA9k5: if (!($file == null)) { goto oLqTD; } goto R3j6h; rSB_R: $file = request()->file("\165\160\x6c\157\x61\144"); goto nA9k5; I15mF: $url = $this->convertSaveName2FullUrl($saveName); goto YJ6vl; yheG_: $uploadInfo = $file->getInfo(); goto u3JUj; YJ6vl: $relativeUrl = $this->convertSaveName2RelativeUrl($saveName); goto T1VGK; F4ehR: if (!($fileInfo == null)) { goto YtUuN; } goto qdH27; GU_ba: oLqTD: goto yheG_; LlQhk: $saveName = $fileInfo->getSaveName(); goto I15mF; AfFM9: YtUuN: goto LlQhk; QVPnk: } private function convertSaveName2FullUrl($saveName) { goto efsbt; efsbt: $urlFilePath = str_replace("\x5c", "\57", $saveName); goto j4WuW; xwPSI: return $url; goto TT5xa; j4WuW: $url = UPLOAD_URL_ROOT . $urlFilePath; goto xwPSI; TT5xa: } private function convertSaveName2RelativeUrl($saveName) { goto SbJ9p; SbJ9p: $urlFilePath = str_replace("\134", "\x2f", $saveName); goto Y9HiW; Y9HiW: $url = UPLOAD_FOLDER . DS . $urlFilePath; goto Rt8Fi; Rt8Fi: return $url; goto DdKn0; DdKn0: } }
